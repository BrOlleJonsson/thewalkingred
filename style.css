/* Base font */
body {
    font-family: 'Inter', sans-serif;
}
/* Map container styling */
#map {
    height: 400px; /* Default map height */
    border-radius: 0.5rem; /* Rounded corners */
    z-index: 0; /* Ensure map is behind overlays */
}
/* Utility class to hide elements */
.hidden {
    display: none !important;
}
/* Leaflet popup styling */
.leaflet-popup-content-wrapper {
    border-radius: 0.375rem; /* Rounded corners */
    background-color: #ffffff; /* White background */
    /* Remove default Leaflet padding to allow full-width header */
    padding: 0;
    /* Set a fixed width for the wrapper */
    width: 240px !important; /* Added fixed width */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* Add subtle shadow */
}
.leaflet-popup-content {
    font-family: 'Inter', sans-serif; /* Consistent font */
    font-size: 12px; /* Popup font size */
    line-height: 1.4; /* Line spacing */
    /* Remove default Leaflet margin */
    margin: 0 !important; /* Use !important to override Leaflet default */
    color: #374151; /* Text color (Tailwind gray-700) */
    width: 100% !important; /* Let content fill the wrapper width */
    box-sizing: border-box; /* Include padding in width calculation */
    white-space: normal; /* Allow text wrapping */
}
/* Container for the actual content below the header */
.popup-inner-content {
    padding: 8px 12px; /* Restore padding for content area */
}
/* Adjust spacing for elements inside popup content area */
.popup-inner-content > div:not(:last-child) {
     margin-bottom: 6px; /* Increased spacing between info items */
}
/* Red header styling */
.popup-header-bar {
    background-color: #dc2626; /* Tailwind red-600 */
    color: white;
    padding: 4px 12px; /* Smaller padding than card header */
    font-size: 13px; /* Slightly smaller font */
    font-weight: 700;
    border-top-left-radius: 0.375rem; /* Match wrapper radius */
    border-top-right-radius: 0.375rem;
    /* Ensure text doesn't wrap unnecessarily */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
 .leaflet-popup-content .popup-label {
     font-weight: 600; /* Semi-bold label */
     color: #4b5563; /* Medium text color (Tailwind gray-600) */
 }
 .leaflet-popup-content .popup-subtext {
     font-size: 11px; /* Smaller subtext */
     color: #6b7280; /* Lighter text color (Tailwind gray-500) */
 }
 .leaflet-popup-content .popup-icon {
     width: 14px; /* Icon size */
     height: 14px;
     margin-right: 4px; /* Space after icon */
     margin-top: 1px; /* Align icon vertically */
     flex-shrink: 0; /* Prevent icon shrinking */
     stroke: #dc2626; /* Icon color (Tailwind red-600) */
     stroke-width: 2; /* Icon line thickness */
     fill: none; /* No fill */
     stroke-linecap: round;
     stroke-linejoin: round;
     display: inline-block; /* Allow inline display */
     vertical-align: middle; /* Align with text */
 }
 /* Separator line within popup */
 .leaflet-popup-content .popup-separator {
     border-top: 1px solid #f3f4f6; /* Light separator line (Tailwind gray-100) */
     margin-top: 6px;
     margin-bottom: 6px;
 }
 /* Container for the details link */
 .popup-details-link-container {
    margin-top: 8px; /* Space above the link container */
    padding-top: 6px; /* Add padding matching separator */
    border-top: 1px solid #f3f4f6; /* Add separator line */
 }
 /* Styling for the details link itself */
 .popup-details-link {
     display: inline-flex; /* Align icon and text */
     align-items: center;
     font-size: 11px; /* Link font size */
     font-weight: 500; /* Medium weight */
     color: #dc2626; /* Link color (Tailwind red-600) */
     cursor: pointer; /* Indicate interactivity */
     text-decoration: none; /* No underline by default */
 }
 .popup-details-link:hover {
     color: #b91c1c; /* Darker red on hover (Tailwind red-800) */
     text-decoration: underline; /* Underline on hover */
 }
 .popup-details-link svg {
     width: 16px; /* Arrow icon size adjusted to match button (w-4) */
     height: 16px; /* Arrow icon size adjusted to match button (h-4) */
     margin-left: 2px; /* Space before arrow */
     fill: currentColor; /* Match text color */
 }
/* Style the default Leaflet close button */
.leaflet-popup-close-button {
    padding: 0px 4px 0 0 !important; /* Adjusted top padding to move it closer to the top */
}
.leaflet-popup-close-button span {
    color: #ffffff !important; /* White color for better contrast on red header */
    font-size: 18px !important; /* Make X slightly larger */
    text-shadow: 0 0 2px rgba(0,0,0,0.5); /* Add subtle shadow for better visibility */
}
.leaflet-popup-close-button:hover span {
    color: #f3f4f6 !important; /* Lighter gray on hover (Tailwind gray-100) */
}


/* Marker cluster styling (using red theme) */
.marker-cluster-small {
    background-color: rgba(220, 53, 69, 0.6); /* Semi-transparent red */
}
.marker-cluster-small div {
    background-color: rgba(220, 53, 69, 0.8); /* More opaque red */
    color: #fff; /* White text */
}
.marker-cluster-medium {
    background-color: rgba(200, 40, 50, 0.6); /* Slightly darker red */
}
.marker-cluster-medium div {
    background-color: rgba(200, 40, 50, 0.8);
    color: #fff;
}
 .marker-cluster-large {
    background-color: rgba(180, 30, 40, 0.6); /* Darkest red */
}
.marker-cluster-large div {
    background-color: rgba(180, 30, 40, 0.8);
    color: #fff;
}
/* Separator line within cards */
.card-separator {
    border-top: 1px solid #e5e7eb; /* Tailwind gray-200 */
    margin-top: 0.75rem; /* 12px */
    margin-bottom: 0.75rem; /* 12px */
}
/* Styling for icons within cards */
.info-icon {
     width: 18px; /* Icon size */
     height: 18px;
     margin-right: 0.5rem; /* 8px space after icon */
     margin-top: 2px; /* Vertical alignment */
     flex-shrink: 0; /* Prevent shrinking */
     stroke: #dc2626; /* Icon color (Tailwind red-600) */
     stroke-width: 2;
     fill: none;
     stroke-linecap: round;
     stroke-linejoin: round;
}
/* Styling for icons within buttons */
.button-icon {
     width: 16px; /* Icon size */
     height: 16px;
     margin-right: 0.375rem; /* 6px space after icon */
     stroke: currentColor; /* Match button text color */
     stroke-width: 2;
     fill: none;
     stroke-linecap: round;
     stroke-linejoin: round;
}
/* Details overlay background */
#details-overlay-bg {
    position: fixed; /* Cover entire viewport */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6); /* Semi-transparent black */
    z-index: 40; /* Above map, below content */
    display: flex; /* Center content */
    justify-content: center;
    align-items: center;
}
 #details-overlay-bg.hidden {
     display: none !important; /* Hide when not active */
 }
/* Details overlay content box */
#details-overlay-content {
    background-color: white;
    padding: 1.5rem; /* 24px padding */
    border-radius: 0.5rem; /* Rounded corners */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Shadow */
    width: 90%; /* Responsive width */
    max-width: 600px; /* Max width */
    max-height: 90vh; /* Max height */
    overflow-y: auto; /* Scroll if content overflows */
    position: relative; /* For positioning close button */
    z-index: 50; /* Above background */
}
 /* Close button for the overlay */
 #details-overlay-close {
     position: absolute; /* Position relative to content box */
     top: 0.75rem; /* 12px from top */
     right: 0.75rem; /* 12px from right */
     background-color: #f3f4f6; /* Light gray background (Tailwind gray-100) */
     border-radius: 9999px; /* Circular */
     padding: 0.25rem; /* 4px padding */
     cursor: pointer;
     transition: background-color 0.2s; /* Smooth hover effect */
 }
 #details-overlay-close:hover {
     background-color: #e5e7eb; /* Darker gray on hover (Tailwind gray-200) */
 }
 #details-overlay-close svg {
     width: 1.25rem; /* 20px icon size */
     height: 1.25rem;
     color: #4b5563; /* Icon color (Tailwind gray-600) */
 }
 /* Map inside the details overlay */
 #details-map {
     height: 200px; /* Fixed height for the mini-map */
     width: 100%;
     border-radius: 0.375rem; /* Rounded corners */
     margin-top: 1rem; /* 16px space above */
     margin-bottom: 1rem; /* 16px space below */
     z-index: 0; /* Ensure it's behind popups if any */
 }
